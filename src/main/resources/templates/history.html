<!doctype html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Watch History</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet"  href="/css/custom.css">
</head>
<body>
<section class="vh-100 bg-image" style="background-image: url('https://mdbcdn.b-cdn.net/img/Photos/new-templates/search-box/img4.webp');">
    <div>
        <div class="container">
            <h2 class="h1">Watch History</h2>
            <form th:action="@{/history/}" method="post">
                <button class="btn btn-primary" type="submit">Clear History</button>
                <a href="/" class="btn btn-primary">Back</a>
            </form>
            <table class="table table-hover">
                <thead>
                <tr>
                    <th style="width: 10%">ID</th>
                    <th style="width: 10%">Title</th>
                    <th style="width: 10%">Director</th>
                    <th style="width: 40%">Synopsis</th>
                    <th style="width: 10%">Genre</th>
                    <th style="width: 10%">Release Year</th>
                    <th style="width: 10%">IMDB Rating</th>
                </tr>
                </thead>
                <tbody>
                <tr th:if="${#sets.isEmpty(set)}">
                    <td colspan="5">No Records Found.</td>
                </tr>
                <tr th:each="s : ${set}" th:field="${s}" th:data-url="${s.imdbLink}" onclick="window.location.href = this.getAttribute('data-url');">
                    <td th:text="${s.id}"></td>
                    <td th:text="${s.title}"></td>
                    <td th:text="${s.director}"></td>
                    <td th:text="${s.synopsis}"></td>
                    <td th:text="${s.genre}"></td>
                    <td th:text="${s.releaseYear}"></td>
                    <td th:text="${s.imdbRating}"></td>
                </tr>
                </tbody>
            </table>
        </div>>
    </div>
</section>
</body>
</html>